(this["webpackJsonpmyreads-app"]=this["webpackJsonpmyreads-app"]||[]).push([[0],{23:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(17),r=t.n(l),s=t(5),i=t(6),c=t(8),u=t(7),m=(t(23),function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=this.props.books;return console.log(a),o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Currently Reading"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(a){return"currentlyReading"===a.shelf&&o.a.createElement("li",{key:a.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:188,backgroundImage:"url(".concat(a.imageLinks.thumbnail,")")}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{defaultValue:a.shelf,onChange:function(t){e.props.updateShelf(a,t.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"currentlyReading"===a.shelf?"\ud83d\udcdaCurrently Reading":"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"wantToRead"===a.shelf?"\ud83d\udcdaWant to Read":"Want to Read"),o.a.createElement("option",{value:"read"},"read"===a.shelf?"\ud83d\udcdaRead":"Read"),o.a.createElement("option",{value:"none"},"none"===a.shelf?"\ud83e\udd7a None":"None"," ")))),o.a.createElement("div",{className:"book-title"},"  ",a.title,"   "),o.a.createElement("div",{className:"book-authors"}," ",a.authors,"  ")))})))))}}]),t}(n.Component)),d=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=this.props.books;return console.log(a),o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Want to read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(a){return"wantToRead"===a.shelf&&o.a.createElement("li",{key:a.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:188,backgroundImage:"url(".concat(a.imageLinks.thumbnail,")")}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{defaultValue:a.shelf,onChange:function(t){e.props.updateShelf(a,t.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"currentlyReading"===a.shelf?"\ud83d\udcdaCurrently Reading":"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"wantToRead"===a.shelf?"\ud83d\udcdaWant to Read":"Want to Read"),o.a.createElement("option",{value:"read"},"read"===a.shelf?"\ud83d\udcdaRead":"Read"),o.a.createElement("option",{value:"none"},"none"===a.shelf?"\ud83e\udd7a None":"None"," ")))),o.a.createElement("div",{className:"book-title"},"  ",a.title,"   "),o.a.createElement("div",{className:"book-authors"}," ",a.authors,"  ")))})))))}}]),t}(n.Component),h=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=this.props.books;return console.log(a),o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(a){return"read"===a.shelf&&o.a.createElement("li",{key:a.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:188,backgroundImage:"url(".concat(a.imageLinks.thumbnail,")")}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{defaultValue:a.shelf,onChange:function(t){e.props.updateShelf(a,t.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"currentlyReading"===a.shelf?"\ud83d\udcdaCurrently Reading":"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"wantToRead"===a.shelf?"\ud83d\udcdaWant to Read":"Want to Read"),o.a.createElement("option",{value:"read"},"read"===a.shelf?"\ud83d\udcdaRead":"Read"),o.a.createElement("option",{value:"none"},"none"===a.shelf?"\ud83e\udd7a None":"None"," ")))),o.a.createElement("div",{className:"book-title"},"  ",a.title,"   "),o.a.createElement("div",{className:"book-authors"}," ",a.authors,"  ")))})))))}}]),t}(n.Component),b=t(4),p=t(10),v="https://reactnd-books-api.udacity.com",f=localStorage.token;f||(f=localStorage.token=Math.random().toString(36).substr(-8));var k={Accept:"application/json",Authorization:f},g=function(){return fetch("".concat(v,"/books"),{headers:k}).then((function(e){return e.json()})).then((function(e){return e.books}))},E=function(e,a){return fetch("".concat(v,"/books/").concat(e.id),{method:"PUT",headers:Object(p.a)(Object(p.a)({},k),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:a})}).then((function(e){return e.json()}))},y=function(e){return fetch("".concat(v,"/search"),{method:"POST",headers:Object(p.a)(Object(p.a)({},k),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},N=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).state={query:[],shelf:[]},e.searchBooks=function(a){if(a.trim().length)y(a).then((function(a){e.setState((function(e){return{query:a}}))}));else{var t=[];e.setState((function(){return{query:t}}))}},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=this.state.query,t=this.props.books,n="none",l={shelf:["none"],id:["none"]};t.map((function(e){a.length>1?a.map((function(a){e.id==a.id&&(l.shelf.push(e.shelf),l.id.push(e.id))})):e.id==a.id&&(l.shelf.push(e.shelf),l.id.push(e.id))}));var r=function(e){return n=l.shelf[l.id.indexOf(e)]},s=function(){return n="none"};return console.log("ehh",a),o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(b.b,{to:"/"},o.a.createElement("button",{className:"close-search"},"Close")),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search by title or author",onChange:function(a){return e.searchBooks(a.target.value?a.target.value:"@_____@")}}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"},o.a.createElement("div",{className:"results",style:{padding:"5px",display:"block",width:"100%",textAlign:"center",verticalAlign:"middle",lineHeight:"90px",fontWeight:"bolder"}},o.a.createElement("div",{className:"search-options"},o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"dropbtn"},"Filter"),o.a.createElement("div",{className:"dropdown-content"},["Android","Art","Artificial Intelligence","Astronomy","Austen","Baseball","Basketball","Bhagat","Biography","Brief","Business","Camus","Cervantes","Christie","Classics","Comics","Cook","Cricket","Cycling","Desai","Design","Development","Digital Marketing","Drama","Drawing","Dumas","Education","Everything","Fantasy","Film","Finance","First","Fitness","Football","Future","Games","Gandhi","Homer","Horror","Hugo","Ibsen","Journey","Kafka","King","Lahiri","Larsson","Learn","Literary Fiction","Make","Manage","Marquez","Money","Mystery","Negotiate","Painting","Philosophy","Photography","Poetry","Production","Programming","React","Redux","River","Robotics","Rowling","Satire","Science Fiction","Shakespeare","Singh","Swimming","Tale","Thrun","Time","Tolstoy","Travel","Ultimate","Virtual Reality","Web Development","iOS"].map((function(a){return o.a.createElement("li",{onClick:function(a){return e.searchBooks(a.target.innerText?a.target.innerText:"@_____@")}}," ",a)}))))),void 0===a.length?"Search Results: 0 books":"Search Results: ".concat(a.length," books")),1===a.length&&o.a.createElement("li",{key:a.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:188,backgroundImage:"url(".concat(a.hasOwnProperty("imageLinks")?a.imageLinks.hasOwnProperty("smallThumbnail")?a.imageLinks.smallThumbnail:a.imageLinks.hasOwnProperty("thumbnail")?a.imageLinks.thumbnail:"":"",")")}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{id:"book-shelf-selector",defaultValue:l.id.includes(a.id)?r(a.id):s(),onChange:function(t){return e.props.updateShelf(a,t.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"  Move to... "),o.a.createElement("option",{value:"currentlyReading"},"currentlyReading"===n?"\ud83d\udcdaCurrently Reading":"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"wantToRead"===n?"\ud83d\udcdaWant to Read":"Want to Read"),o.a.createElement("option",{value:"read"},"read"===n?"\ud83d\udcdaRead":"Read"),o.a.createElement("option",{value:"none"},"none"===n?"\ud83e\udd7aNone":"None"," ")))),o.a.createElement("div",{className:"book-title"},"  ",a.title||"'NO TITLE'","   "),o.a.createElement("div",{className:"book-authors"}," ",a.authors||"'NO AUTHORS'","  "))),a.length>1&&a.map((function(a){return o.a.createElement("li",{key:a.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:188,backgroundImage:"url(".concat(a.hasOwnProperty("imageLinks")?a.imageLinks.hasOwnProperty("smallThumbnail")?a.imageLinks.smallThumbnail:a.imageLinks.hasOwnProperty("thumbnail")?a.imageLinks.thumbnail:"":"",")")}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{defaultValue:l.id.includes(a.id)?r(a.id):s(),onChange:function(t){return e.props.updateShelf(a,t.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"currentlyReading"===n?"\ud83d\udcdaCurrently Reading":"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"wantToRead"===n?"\ud83d\udcdaWant to Read":"Want to Read"),o.a.createElement("option",{value:"read"},"read"===n?"\ud83d\udcdaRead":"Read"),o.a.createElement("option",{value:"none"},"none"===n?"\ud83e\udd7a None":"None"," ")))),o.a.createElement("div",{className:"book-title"},"  ",a.title||"'NO TITLE'","   "),o.a.createElement("div",{className:"book-authors"}," ",a.authors||"'NO AUTHORS'","  ")))})))))}}]),t}(n.Component),R=t(1),O=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).state={books:[],shelves:{}},e.updateShelf=function(a,t){E(a,t).then((function(a){e.setState((function(){return{shelves:a}}))}))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g().then((function(a){e.setState((function(){return{books:a}}))}))}},{key:"componentDidUpdate",value:function(e,a){var t=this;console.log("current",this.state.shelves,"prev",a.shelves),this.state.shelves!==a.shelves&&g().then((function(e){t.setState((function(){return{books:e}}))}))}},{key:"render",value:function(){var e=this;return console.log("books",this.state.books,"shelves",this.state.shelves),o.a.createElement("div",{className:"app"},o.a.createElement(R.a,{exact:!0,path:"/search",render:function(){return o.a.createElement(N,{books:e.state.books,updateShelf:function(a,t){e.updateShelf(a,t)}})}}),o.a.createElement(R.a,{exact:!0,path:"/",render:function(a){a.history;return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,o.a.createElement(m,{books:e.state.books,updateShelf:function(a,t){e.updateShelf(a,t)}}),o.a.createElement(d,{books:e.state.books,updateShelf:function(a,t){e.updateShelf(a,t)}}),o.a.createElement(h,{books:e.state.books,updateShelf:function(a,t){e.updateShelf(a,t)}}))),o.a.createElement("div",{className:"open-search"},o.a.createElement(b.b,{to:"/search",className:"search"},o.a.createElement("button",null,"Add a book"))))}}))}}]),t}(o.a.Component);t(29);r.a.render(o.a.createElement(b.a,null,o.a.createElement(O,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.78056b5c.chunk.js.map